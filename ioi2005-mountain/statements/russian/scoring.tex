В тестах стоимостью в 50\% баллов $n$ удовлетворяет ограничению $1 \le n \le 20\,000$ и во вводе не более $1000$ строк.

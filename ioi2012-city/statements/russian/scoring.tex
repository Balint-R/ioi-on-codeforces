\begin{tabular}{cclc}
\bf{Подзадача}&\bf{Баллов}&\bf{Ограничения}\\
1&11&$N \le 200$\\
2&21&$N \le 2\,000$\\
3&23&$N \le 100\,000$&\LARGE{$*$}\\
4&45&$N \le 100\,000$\\
\end{tabular}

\LARGE{$*$} Более того, в третьей подзадаче есть еще два следующих условия: 
\begin{itemize}
\item для любых двух непустых клеток $i$ и $j$ таких, что $X[i] = X[j]$, каждая клетка между ними также является непустой;
\item для любых двух непустых клеток $i$ и $j$ таких, что $Y[i] = Y[j]$, каждая клетка между ними также является непустой.
\end{itemize} 

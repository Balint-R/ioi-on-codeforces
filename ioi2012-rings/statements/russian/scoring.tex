\bf{Подзадача 1 [20 баллов]}

\begin{itemize}
\item $N \le 5\,000$.
\item Функция \t{CountCritical} вызывается только один раз, после всех других вызовов; Функция \t{Link} вызывается не более $5\,000$ раз.
\end{itemize}

\bf{Подзадача 2 [17 баллов]}

\begin{itemize}
\item $N \le 1\,000\,000$.
\item Функция \t{CountCritical} вызывается только один раз, после всех других вызовов; Функция \t{Link} вызывается не более $1\,000\,000$ раз.
\end{itemize}

\bf{Подзадача 3 [18 баллов]}

\begin{itemize}
\item $N \le 20\,000$.
\item Функция \t{CountCritical} вызывается не более $100$ раз; Функция \t{Link} вызывается не более $10\,000$ раз.
\end{itemize}

\bf{Подзадача 4 [14 баллов]}

\begin{itemize}
\item $N \le 100\,000$.
\item Функция \t{CountCritical} и \t{Link} вызываются в сумме не более $100\,000$ раз. 
\end{itemize}

\bf{Подзадача 5 [31 балл]}

\begin{itemize}
\item $N \le 1\,000\,000$.
\item Функция \t{CountCritical} и \t{Link} вызываются в сумме не более $1\,000\,000$ раз. 
\end{itemize}

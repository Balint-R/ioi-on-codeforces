In all subtasks $0 \le d \le 2n + \lfloor \frac{n}{2} \rfloor$, and the number of attractions in each city is nonnegative.

\begin{center}
\renewcommand{\arraystretch}{1.5}
\begin{tabular}{|c|c|c|c|c|}
\hline
Subtask & Points & $n$ & \parbox{3cm}{\centering \vspace{2mm}maximum number of attractions in a city \\\vspace{2mm}} & starting city \\
\hline
1 &  7 & $2 \le n \le 20$ & $1\,000\,000\,000$ & no constraints\\
\hline
2 & 23 & $2 \le n \le 100\,000$ & 100 & city 0 \\
\hline
3 & 17 & $2 \le n \le 3\,000$ & $1\,000\,000\,000$ & no constraints\\
\hline
4 & 53 & $2 \le n \le 100\,000$ & $1\,000\,000\,000$ & no constraints\\
\hline
\end{tabular}
\end{center}
\bf{Subtasks}

\begin{tabular}{|c|c|c|}\hline
\bf{Subtask}&\bf{Points}&\bf{Additional constraints}\\\hline
$1$&$7$&$N \le 100,$ $M \le 200,$ $Q \le 100$ \\\hline
$2$&$8$&$N \le 3\,000,$ $M \le 6\,000,$ $Q \le 3\,000$ \\\hline
$3$&$34$&$M=N-1$ and each city is incident to at most $2$ roads (the cities are connected in a line) \\\hline
$4$&$51$&No\\\hline
\end{tabular}


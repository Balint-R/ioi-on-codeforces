\bf{Подзадачи}

\begin{tabular}{|c|c|c|}\hline
\bf{Подзадача}&\bf{Баллов}&\bf{Дополнительные ограничения}\\\hline
$1$&$7$&$N \le 100,$ $M \le 200,$ $Q \le 100$ \\\hline
$2$&$8$&$N \le 3\,000,$ $M \le 6\,000,$ $Q \le 3\,000$ \\\hline
$3$&$34$&$M=N-1$ а также каждый город является концом не более двух дорог (города соединены в цепочку) \\\hline
$4$&$51$&Нет \\\hline
\end{tabular}
